---
import DefaultLayout from '@layouts/DefaultLayout.astro'
import PageHeader from '@components/PageHeader.astro'
import { Heading, Notification } from 'accessible-astro-components'

// 站点地图不再从 API 获取数据，改为客户端渲染
const projects: any[] = []

// Define static pages with their descriptions
const staticPages = [
  {
    title: '首页',
    url: '/',
    description: '公司官网首页：展示核心能力、案例亮点与关键联系方式。',
  },
  {
    title: '组件展示',
    url: '/accessible-components',
    description: '组件与交互示例页面，用于展示可复用组件与无障碍实践。',
  },
  {
    title: '案例展示',
    url: '/portfolio',
    description: '案例列表页：按标签筛选并查看项目详情。',
  },
  {
    title: '资讯中心',
    url: '/blog',
    description: '新闻动态与洞察：发布产品更新、技术文章与最佳实践。',
  },
  {
    title: '联系我们',
    url: '/contact',
    description:
      '欢迎联系咨询：官网建设、系统交付、性能优化与无障碍改造等合作需求。',
  },
  {
    title: '色彩对比度检测',
    url: '/color-contrast-checker',
    description: '交互式对比度检测工具，帮助评估配色在不同主题下的可读性。',
  },
  {
    title: '无障碍声明',
    url: '/accessibility-statement',
    description: '关于本站可访问性的承诺与说明。',
  },
  {
    title: 'Markdown 页面示例',
    url: '/markdown-page',
    description: '展示 Markdown 内容在本站的排版与呈现效果。',
  },
  {
    title: 'MDX 页面示例',
    url: '/mdx-page',
    description: '展示 MDX 内容（Markdown + 组件）在本站的呈现效果。',
  },
  {
    title: '提交成功',
    url: '/thank-you',
    description: '表单提交成功后的确认页面。',
  },
]
---

<DefaultLayout
  title="站点地图"
  description="完整站点地图：汇总主要页面、案例列表与站点结构入口。"
>
  <PageHeader
    title="站点地图"
    subtitle="将本站的主要页面与内容入口集中展示，便于快速导航与查找。"
    bgType="gradient"
  />

  <section class="my-16">
    <div class="container space-y-12">
      <!-- Main Pages Section -->
      <div>
        <Heading level="h2" class="mb-6">主要页面</Heading>
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
          {
            staticPages.map((page) => (
              <article>
                <Heading level="h3" size="h6" class="mb-3">
                  <a href={page.url}>{page.title}</a>
                </Heading>
                <p class="mb-3">{page.description}</p>
                <p class="text-xs">
                  URL：{' '}
                  <code class="rounded bg-neutral-100 px-1 py-0.5 text-xs text-neutral-500 dark:bg-neutral-800 dark:text-neutral-500">
                    {page.url}
                  </code>
                </p>
              </article>
            ))
          }
        </div>
      </div>

      <!-- Portfolio Projects Section -->
      <div>
        <Heading level="h2">案例列表</Heading>
        <p class="mb-6">
          案例列表采用动态加载，请访问 <a href="/portfolio" class="text-primary hover:underline">/portfolio</a> 查看所有案例。
        </p>
      </div>

      <!-- Blog Section -->
      <div>
        <Heading level="h2" class="mb-6">资讯中心</Heading>
        <article>
          <Heading level="h3" size="h6" class="mb-3">
            <a href="/blog"> 资讯列表 </a>
          </Heading>
          <p>
            浏览新闻动态、技术文章与最佳实践，支持分页浏览，便于持续阅读与检索。
          </p>
          <div class="text-xs">
            <p>说明：此页面示例包含分页与文章详情路由</p>
            <p>
              列表入口： <code
                class="rounded bg-neutral-100 px-1 py-0.5 text-xs text-neutral-500 dark:bg-neutral-800 dark:text-neutral-500"
                >/blog</code
              >
            </p>
            <p>
              文章详情： <code
                class="rounded bg-neutral-100 px-1 py-0.5 text-xs text-neutral-500 dark:bg-neutral-800 dark:text-neutral-500"
                >/blog/[post-title]</code
              >
            </p>
          </div>
        </article>
      </div>

      <!-- Technical Information -->
      <Notification type="info" variant="accent">
        <div class="space-content">
          <Heading level="h2" size="h6" class="mb-4">站点地图技术说明</Heading>
          <ul>
            <li>
              <span class="font-bold">XML 站点地图：</span> 系统会自动生成 <code>/sitemap.xml</code>，用于搜索引擎收录与 SEO。
            </li>
            <li>
              <strong>生成方式：</strong> 由 `@astrojs/sitemap` 集成生成（配置于 `astro.config.mjs`）
            </li>
            <li>
              <strong>更新时间：</strong> 每次构建时自动更新
            </li>
          </ul>
        </div>
      </Notification>
    </div>
  </section>
</DefaultLayout>

<style>
  article {
    border: 1px solid var(--border-color-subtle);
    border-radius: var(--radius-large);
    background-color: var(--background-color);
    padding: 1rem;
  }
</style>
